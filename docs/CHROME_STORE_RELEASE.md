# Chrome Web Store 发布准备

## 📋 发布前检查清单

### ✅ 已完成的安全修复

- [x] 添加 CSP (内容安全策略)
- [x] 删除测试文件
- [x] 添加输入验证和长度限制
- [x] 添加API调用速率限制
- [x] 创建 .gitignore 文件
- [x] 创建隐私政策文档

### ⚠️ 需要注意的安全问题

1. **API密钥存储**
   - 当前用户的腾讯云API密钥以明文存储
   - 虽然受RLS保护，但建议未来版本添加加密
   - 请确保在用户界面上明确说明密钥存储方式

2. **Supabase RLS策略**
   - 必须验证所有表的RLS策略已正确配置
   - 确保用户只能访问自己的数据
   - 测试不同用户间的数据隔离

3. **权限说明**
   - `<all_urls>` 权限是必需的（选词翻译功能）
   - 在Chrome Web Store描述中明确说明原因

## 📦 发布材料准备

### 1. 应用图标

需要提供的图标尺寸：
- [x] 16x16 (icon16.png)
- [x] 48x48 (icon48.png)
- [x] 128x128 (icon128.png)
- [ ] 推荐：440x280 促销瓷砖图
- [ ] 推荐：1400x560 促销大图

### 2. 截图

建议准备至少3-5张截图（1280x800或640x400）：
- [ ] 翻译功能展示
- [ ] 历史记录页面
- [ ] 设置页面
- [ ] 翻译窗口显示

### 3. 应用描述

#### 简短描述（132字符以内）
```
双击选词即可翻译，支持音标显示和云端历史同步。基于腾讯云翻译API的智能翻译助手。
```

#### 详细描述

```markdown
# 翻译助手 - 智能选词翻译工具

一款简洁高效的Chrome翻译扩展，支持在任何网页上双击选词即时翻译。

## ✨ 主要特性

🎯 **双击翻译** - 在任何网页上双击选中文字即可翻译
🌐 **云端同步** - 翻译历史自动同步到云端，多设备共享
🔐 **安全可靠** - 使用您自己的腾讯云API密钥，数据完全受控
🎨 **精美界面** - 现代化的UI设计，流畅的用户体验
📊 **历史记录** - 自动保存翻译记录，随时查看
🔊 **音标发音** - 英文单词自动显示音标和发音
💾 **离线缓存** - 离线也能查看最近的翻译历史

## 🚀 如何使用

1. 注册账号并登录
2. 在设置中配置您的腾讯云API密钥
3. 在任何网页上双击选词即可翻译
4. 查看历史记录和统计信息

## 🔑 API密钥获取

本扩展需要您自己的腾讯云API密钥：
1. 访问腾讯云控制台（https://console.cloud.tencent.com/cam/capi）
2. 创建或查看API密钥
3. 复制SecretId和SecretKey到扩展设置

腾讯云提供每月500万字符的免费翻译额度。

## 🛡️ 隐私保护

- 翻译数据使用HTTPS加密传输
- 数据库配置了严格的访问控制
- 您的数据只有您自己能访问
- 不收集浏览历史和个人信息

详见隐私政策：[链接]

## 📞 支持

遇到问题或建议？
- GitHub: [项目地址]
- 邮箱: [您的邮箱]
```

### 4. 类别选择

建议选择：
- 主类别：**生产工具**
- 副类别：**翻译**、**语言学习**

### 5. 语言支持

声明支持的界面语言：
- 简体中文（zh-CN）

声明支持的翻译语言：
- 中文、英语、日语、韩语、法语、德语、西班牙语、俄语等

## 🔒 隐私和权限说明

在提交时需要详细说明每个权限的用途：

### storage
用于保存用户设置和翻译历史记录到本地缓存。

### activeTab
用于获取当前标签页信息，仅在用户触发翻译时使用。

### <all_urls>
**重要**：此权限用于在任何网页上提供选词翻译功能。
- 仅在用户双击选中文本时读取选中内容
- 不会读取或记录完整网页内容
- 不会影响网页正常功能
- 所有操作都在用户控制之下

### host_permissions
- `https://tmt.tencentcloudapi.com/*` - 调用腾讯云翻译API
- `https://api.dictionaryapi.dev/*` - 查询英文词典
- `https://*.supabase.co/*` - 云端数据同步

## 📊 数据收集声明

必须在Chrome Web Store中声明：

**收集的数据类型**：
- 身份验证信息（邮箱或手机号）
- 用户生成的内容（翻译历史）
- 应用活动（翻译统计）

**数据用途**：
- 提供翻译服务
- 跨设备同步
- 使用统计

**数据处理**：
- 数据经过加密传输（HTTPS）
- 存储在Supabase数据库（美国）
- 不会出售给第三方

## 🧪 发布前测试

在提交前请完成：

- [ ] 在干净的Chrome环境中安装测试
- [ ] 测试注册/登录流程
- [ ] 测试翻译功能（多个网站）
- [ ] 测试历史记录同步
- [ ] 测试设置保存
- [ ] 测试多设备同步
- [ ] 检查控制台无错误
- [ ] 检查所有权限正常工作

## 📝 版本信息

**当前版本**: 1.0.0

**版本说明**：
```
首次发布

功能：
- 双击选词翻译
- 云端历史同步
- 用户账号体系
- API密钥配置
- 翻译统计
- 音标显示
```

## 🚀 提交步骤

1. **创建开发者账号**
   - 访问 Chrome Web Store Developer Dashboard
   - 支付一次性注册费用（$5）

2. **准备发布包**
   ```bash
   # 删除不需要的文件
   rm -rf .git .gitignore docs/

   # 创建ZIP压缩包
   zip -r translator-extension-v1.0.0.zip . -x "*.git*" "node_modules/*" "*.DS_Store"
   ```

3. **上传扩展**
   - 上传ZIP文件
   - 填写应用信息
   - 上传图标和截图
   - 填写隐私政策链接

4. **声明和认证**
   - 单一用途声明
   - 权限使用说明
   - 隐私实践声明

5. **提交审核**
   - 审核时间：通常1-3个工作日
   - 可能需要回答审核团队的问题

## ⚠️ 常见审核问题

1. **权限过度**
   - 确保在描述中清楚说明为什么需要 `<all_urls>`
   - 强调只读取用户选中的文本

2. **隐私政策**
   - 必须提供可访问的隐私政策URL
   - 建议使用GitHub Pages托管

3. **API密钥**
   - 明确说明需要用户自己的API密钥
   - 解释如何获取和配置

4. **数据收集**
   - 准确声明收集的所有数据类型
   - 说明数据存储位置和安全措施

## 📚 相关资源

- [Chrome Web Store开发者政策](https://developer.chrome.com/docs/webstore/program-policies/)
- [隐私政策要求](https://developer.chrome.com/docs/webstore/program-policies/#privacy)
- [权限说明最佳实践](https://developer.chrome.com/docs/webstore/best_practices/)

## 🎯 发布后

- 监控用户评价和反馈
- 及时修复发现的问题
- 定期更新和维护
- 考虑添加更多语言支持

---

**准备完成**后即可提交到Chrome Web Store！

祝发布顺利！🎉
